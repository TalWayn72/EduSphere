enum ContentType {
  VIDEO
  PDF
  MARKDOWN
  QUIZ
  ASSIGNMENT
  LINK
  AUDIO
}

type ContentItem @key(fields: "id") {
  id: ID!
  moduleId: ID!
  module: Module!
  title: String!
  type: ContentType!
  content: String
  fileId: ID
  duration: Int
  orderIndex: Int!
  createdAt: String!
  updatedAt: String!
}

type Module @key(fields: "id") {
  id: ID!
}

extend type Query {
  contentItem(id: ID!): ContentItem
  contentItemsByModule(moduleId: ID!): [ContentItem!]!
  contentItemsByType(moduleId: ID!, type: ContentType!): [ContentItem!]!
}

extend type Mutation {
  createContentItem(input: CreateContentItemInput!): ContentItem!
  updateContentItem(id: ID!, input: UpdateContentItemInput!): ContentItem!
  deleteContentItem(id: ID!): Boolean!
  reorderContentItems(moduleId: ID!, itemIds: [ID!]!): [ContentItem!]!
}

input CreateContentItemInput {
  moduleId: ID!
  type: ContentType!
  title: String!
  content: String
  fileId: ID
  duration: Int
  orderIndex: Int!
}

input UpdateContentItemInput {
  title: String
  content: String
  fileId: ID
  duration: Int
  orderIndex: Int
}
