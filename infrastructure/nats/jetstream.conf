# EduSphere NATS JetStream Stream Retention Configuration
# Memory Safety: prevents unbounded message accumulation

streams: [
  {
    name: KNOWLEDGE
    subjects: ["knowledge.*"]
    max_age: 86400s
    max_bytes: 104857600
    storage: file
    num_replicas: 1
  }
  {
    name: AGENT_EVENTS  
    subjects: ["agent.*"]
    max_age: 3600s
    max_bytes: 52428800
    storage: memory
    num_replicas: 1
  }
  {
    name: ANNOTATION_EVENTS
    subjects: ["annotation.*"]
    max_age: 86400s
    max_bytes: 52428800
    storage: file
    num_replicas: 1
  }
]
